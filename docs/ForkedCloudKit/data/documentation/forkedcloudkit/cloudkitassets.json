{"topicSections":[{"title":"Initializers","generated":true,"anchor":"Initializers","identifiers":["doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets\/init(rootDirectory:configuration:)"]},{"title":"Instance Properties","generated":true,"anchor":"Instance-Properties","identifiers":["doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets\/changeStream","doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets\/configuration-swift.property","doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets\/recordType","doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets\/rootDirectory"]},{"identifiers":["doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets\/addAsset(at:named:)","doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets\/addAsset(data:named:)","doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets\/data(forAssetNamed:)","doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets\/deleteAsset(named:)","doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets\/listAssets()","doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets\/startSyncing()"],"generated":true,"anchor":"Instance-Methods","title":"Instance Methods"},{"title":"Enumerations","generated":true,"identifiers":["doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets\/Configuration-swift.enum","doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets\/Error"],"anchor":"Enumerations"},{"identifiers":["doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets\/CKSyncEngineDelegate-Implementations"],"anchor":"Default-Implementations","generated":true,"title":"Default Implementations"}],"hierarchy":{"paths":[["doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit"]]},"abstract":[{"type":"text","text":"A class that manages file assets with CloudKit synchronization."}],"primaryContentSections":[{"declarations":[{"tokens":[{"text":"final","kind":"keyword"},{"kind":"text","text":" "},{"kind":"keyword","text":"class"},{"text":" ","kind":"text"},{"kind":"identifier","text":"CloudKitAssets"}],"languages":["swift"],"platforms":["macOS"]}],"kind":"declarations"},{"kind":"content","content":[{"level":2,"anchor":"overview","text":"Overview","type":"heading"},{"inlineContent":[{"text":"This class handles the storage and synchronization of files using CloudKit. It automatically splits large files","type":"text"},{"text":" ","type":"text"},{"text":"into parts for storage, with a maximum total size of 250MB per asset. Files larger than this limit will be rejected.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"The class maintains a local copy of all assets and synchronizes changes with CloudKit, ensuring that all devices","type":"text"},{"text":" ","type":"text"},{"text":"have access to the same set of files. It uses soft deletion to track removed assets while maintaining metadata.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"The class can also operate in a local-only mode, which is useful for setting up assets while offline or when","type":"text"},{"type":"text","text":" "},{"type":"text","text":"CloudKit synchronization is not needed. When switching from local-only mode to CloudKit mode, all local files"},{"text":" ","type":"text"},{"type":"text","text":"will be automatically uploaded to CloudKit."}]}]}],"schemaVersion":{"minor":3,"major":0,"patch":0},"identifier":{"url":"doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets","interfaceLanguage":"swift"},"sections":[],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/forkedcloudkit\/cloudkitassets"]}],"kind":"symbol","metadata":{"navigatorTitle":[{"kind":"identifier","text":"CloudKitAssets"}],"platforms":[{"unavailable":false,"beta":false,"introducedAt":"17.0","name":"iOS","deprecated":false},{"introducedAt":"14.0","unavailable":false,"beta":false,"name":"macOS","deprecated":false},{"name":"tvOS","deprecated":false,"unavailable":false,"beta":false,"introducedAt":"17.0"},{"deprecated":false,"name":"watchOS","beta":false,"introducedAt":"10.0","unavailable":false}],"role":"symbol","title":"CloudKitAssets","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"CloudKitAssets"}],"modules":[{"name":"ForkedCloudKit"}],"symbolKind":"class","externalID":"s:14ForkedCloudKit0bC6AssetsC","roleHeading":"Class"},"relationshipsSections":[{"title":"Conforms To","kind":"relationships","identifiers":["doc:\/\/ForkedCloudKit\/8CloudKit20CKSyncEngineDelegateP","doc:\/\/ForkedCloudKit\/s8CopyableP","doc:\/\/ForkedCloudKit\/s8SendableP"],"type":"conformsTo"}],"references":{"doc://ForkedCloudKit/documentation/ForkedCloudKit/CloudKitAssets/data(forAssetNamed:)":{"kind":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"data"},{"text":"(","kind":"text"},{"text":"forAssetNamed","kind":"externalParam"},{"kind":"text","text":": "},{"preciseIdentifier":"s:SS","text":"String","kind":"typeIdentifier"},{"text":") ","kind":"text"},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"text":"Data","kind":"typeIdentifier","preciseIdentifier":"s:10Foundation4DataV"}],"type":"topic","role":"symbol","title":"data(forAssetNamed:)","url":"\/documentation\/forkedcloudkit\/cloudkitassets\/data(forassetnamed:)","abstract":[{"text":"Returns the data for an asset with the specified name.","type":"text"}],"identifier":"doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets\/data(forAssetNamed:)"},"doc://ForkedCloudKit/documentation/ForkedCloudKit/CloudKitAssets/changeStream":{"title":"changeStream","role":"symbol","kind":"symbol","url":"\/documentation\/forkedcloudkit\/cloudkitassets\/changestream","type":"topic","abstract":[{"text":"Returns a stream of asset changes, including both local and remote modifications.","type":"text"}],"fragments":[{"kind":"keyword","text":"var"},{"text":" ","kind":"text"},{"text":"changeStream","kind":"identifier"},{"text":": ","kind":"text"},{"text":"AsyncStream","kind":"typeIdentifier","preciseIdentifier":"s:ScS"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"AssetChange","preciseIdentifier":"s:14ForkedCloudKit11AssetChangeV"},{"kind":"text","text":">"}],"identifier":"doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets\/changeStream"},"doc://ForkedCloudKit/s8SendableP":{"identifier":"doc:\/\/ForkedCloudKit\/s8SendableP","title":"Swift.Sendable","type":"unresolvable"},"doc://ForkedCloudKit/documentation/ForkedCloudKit/CloudKitAssets/Error":{"fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"Error"}],"navigatorTitle":[{"text":"Error","kind":"identifier"}],"kind":"symbol","type":"topic","identifier":"doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets\/Error","title":"CloudKitAssets.Error","url":"\/documentation\/forkedcloudkit\/cloudkitassets\/error","role":"symbol","abstract":[]},"doc://ForkedCloudKit/documentation/ForkedCloudKit/CloudKitAssets/Configuration-swift.enum":{"title":"CloudKitAssets.Configuration","role":"symbol","navigatorTitle":[{"text":"Configuration","kind":"identifier"}],"kind":"symbol","url":"\/documentation\/forkedcloudkit\/cloudkitassets\/configuration-swift.enum","type":"topic","abstract":[],"fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"Configuration"}],"identifier":"doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets\/Configuration-swift.enum"},"doc://ForkedCloudKit/s8CopyableP":{"type":"unresolvable","identifier":"doc:\/\/ForkedCloudKit\/s8CopyableP","title":"Swift.Copyable"},"doc://ForkedCloudKit/documentation/ForkedCloudKit/CloudKitAssets/configuration-swift.property":{"title":"configuration","role":"symbol","kind":"symbol","url":"\/documentation\/forkedcloudkit\/cloudkitassets\/configuration-swift.property","type":"topic","abstract":[],"fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"configuration"},{"text":": ","kind":"text"},{"text":"CloudKitAssets","kind":"typeIdentifier","preciseIdentifier":"s:14ForkedCloudKit0bC6AssetsC"},{"text":".","kind":"text"},{"text":"Configuration","kind":"typeIdentifier","preciseIdentifier":"s:14ForkedCloudKit0bC6AssetsC13ConfigurationO"}],"identifier":"doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets\/configuration-swift.property"},"doc://ForkedCloudKit/documentation/ForkedCloudKit":{"identifier":"doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit","role":"collection","kind":"symbol","url":"\/documentation\/forkedcloudkit","abstract":[{"text":"CloudKit integration for forked data structures.","type":"text"}],"title":"ForkedCloudKit","type":"topic"},"doc://ForkedCloudKit/documentation/ForkedCloudKit/CloudKitAssets/listAssets()":{"kind":"symbol","role":"symbol","title":"listAssets()","type":"topic","identifier":"doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets\/listAssets()","url":"\/documentation\/forkedcloudkit\/cloudkitassets\/listassets()","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"listAssets","kind":"identifier"},{"kind":"text","text":"() "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> ["},{"preciseIdentifier":"s:10Foundation3URLV","kind":"typeIdentifier","text":"URL"},{"kind":"text","text":"]"}],"abstract":[{"type":"text","text":"Lists all assets in the root directory, excluding hidden files and system files."}]},"doc://ForkedCloudKit/8CloudKit20CKSyncEngineDelegateP":{"type":"unresolvable","identifier":"doc:\/\/ForkedCloudKit\/8CloudKit20CKSyncEngineDelegateP","title":"CloudKit.CKSyncEngineDelegate"},"doc://ForkedCloudKit/documentation/ForkedCloudKit/CloudKitAssets/startSyncing()":{"type":"topic","url":"\/documentation\/forkedcloudkit\/cloudkitassets\/startsyncing()","identifier":"doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets\/startSyncing()","role":"symbol","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"kind":"identifier","text":"startSyncing"},{"text":"()","kind":"text"}],"kind":"symbol","abstract":[{"type":"text","text":"Starts the CloudKit sync engine, loading any existing state and creating the zone if needed."},{"text":" ","type":"text"},{"type":"text","text":"If this is the first sync (no state file exists), it will automatically add all local files to CloudKit."}],"title":"startSyncing()"},"doc://ForkedCloudKit/documentation/ForkedCloudKit/CloudKitAssets":{"kind":"symbol","url":"\/documentation\/forkedcloudkit\/cloudkitassets","role":"symbol","title":"CloudKitAssets","abstract":[{"type":"text","text":"A class that manages file assets with CloudKit synchronization."}],"identifier":"doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets","type":"topic","fragments":[{"text":"class","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"CloudKitAssets"}],"navigatorTitle":[{"kind":"identifier","text":"CloudKitAssets"}]},"doc://ForkedCloudKit/documentation/ForkedCloudKit/CloudKitAssets/init(rootDirectory:configuration:)":{"identifier":"doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets\/init(rootDirectory:configuration:)","role":"symbol","kind":"symbol","type":"topic","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"rootDirectory"},{"kind":"text","text":": "},{"text":"URL","preciseIdentifier":"s:10Foundation3URLV","kind":"typeIdentifier"},{"kind":"text","text":", "},{"text":"configuration","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:14ForkedCloudKit0bC6AssetsC","text":"CloudKitAssets","kind":"typeIdentifier"},{"text":".","kind":"text"},{"kind":"typeIdentifier","text":"Configuration","preciseIdentifier":"s:14ForkedCloudKit0bC6AssetsC13ConfigurationO"},{"kind":"text","text":") "},{"text":"throws","kind":"keyword"}],"url":"\/documentation\/forkedcloudkit\/cloudkitassets\/init(rootdirectory:configuration:)","abstract":[{"type":"text","text":"Initializes a new CloudKitAssets instance with the specified directory and configuration."},{"type":"text","text":" "},{"text":"If configuration is .local, the instance will operate in local-only mode.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"If configuration is .cloudKit, syncImmediately determines whether to start syncing right away."}],"title":"init(rootDirectory:configuration:)"},"doc://ForkedCloudKit/documentation/ForkedCloudKit/CloudKitAssets/CKSyncEngineDelegate-Implementations":{"url":"\/documentation\/forkedcloudkit\/cloudkitassets\/cksyncenginedelegate-implementations","abstract":[],"type":"topic","title":"CKSyncEngineDelegate Implementations","role":"collectionGroup","identifier":"doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets\/CKSyncEngineDelegate-Implementations","kind":"article"},"doc://ForkedCloudKit/documentation/ForkedCloudKit/CloudKitAssets/addAsset(data:named:)":{"role":"symbol","kind":"symbol","type":"topic","title":"addAsset(data:named:)","abstract":[{"text":"Adds a data asset with the specified name.","type":"text"}],"url":"\/documentation\/forkedcloudkit\/cloudkitassets\/addasset(data:named:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"text":"addAsset","kind":"identifier"},{"text":"(","kind":"text"},{"text":"data","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:10Foundation4DataV","text":"Data"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"named"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":") "},{"kind":"keyword","text":"throws"}],"identifier":"doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets\/addAsset(data:named:)"},"doc://ForkedCloudKit/documentation/ForkedCloudKit/CloudKitAssets/deleteAsset(named:)":{"type":"topic","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"text":"deleteAsset","kind":"identifier"},{"text":"(","kind":"text"},{"text":"named","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":") "},{"kind":"keyword","text":"throws"}],"title":"deleteAsset(named:)","role":"symbol","kind":"symbol","url":"\/documentation\/forkedcloudkit\/cloudkitassets\/deleteasset(named:)","abstract":[{"text":"Deletes an asset by name, removing it locally and marking it as deleted in CloudKit.","type":"text"}],"identifier":"doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets\/deleteAsset(named:)"},"doc://ForkedCloudKit/documentation/ForkedCloudKit/CloudKitAssets/addAsset(at:named:)":{"url":"\/documentation\/forkedcloudkit\/cloudkitassets\/addasset(at:named:)","abstract":[{"type":"text","text":"Adds a file asset from the specified URL, optionally with a custom name."},{"text":" ","type":"text"},{"type":"text","text":"The file must be under 250MB in size."}],"type":"topic","title":"addAsset(at:named:)","role":"symbol","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"text":"addAsset","kind":"identifier"},{"kind":"text","text":"("},{"text":"at","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:10Foundation3URLV","text":"URL","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"named"},{"kind":"text","text":": "},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"text":"?) ","kind":"text"},{"text":"throws","kind":"keyword"}],"identifier":"doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets\/addAsset(at:named:)","kind":"symbol"},"doc://ForkedCloudKit/documentation/ForkedCloudKit/CloudKitAssets/rootDirectory":{"fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"text":"rootDirectory","kind":"identifier"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:10Foundation3URLV","text":"URL"}],"role":"symbol","kind":"symbol","abstract":[],"identifier":"doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets\/rootDirectory","title":"rootDirectory","url":"\/documentation\/forkedcloudkit\/cloudkitassets\/rootdirectory","type":"topic"},"doc://ForkedCloudKit/documentation/ForkedCloudKit/CloudKitAssets/recordType":{"role":"symbol","kind":"symbol","type":"topic","title":"recordType","abstract":[],"url":"\/documentation\/forkedcloudkit\/cloudkitassets\/recordtype","fragments":[{"text":"let","kind":"keyword"},{"text":" ","kind":"text"},{"text":"recordType","kind":"identifier"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"CKRecord","preciseIdentifier":"c:objc(cs)CKRecord"},{"text":".","kind":"text"},{"preciseIdentifier":"s:So8CKRecordC8CloudKitE10RecordTypea","text":"RecordType","kind":"typeIdentifier"}],"identifier":"doc:\/\/ForkedCloudKit\/documentation\/ForkedCloudKit\/CloudKitAssets\/recordType"}}}