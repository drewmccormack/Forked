{"variants":[{"paths":["\/documentation\/forked\/persistent"],"traits":[{"interfaceLanguage":"swift"}]}],"schemaVersion":{"minor":3,"patch":0,"major":0},"sections":[],"hierarchy":{"paths":[["doc:\/\/Forked\/documentation\/Forked"]]},"primaryContentSections":[{"kind":"declarations","declarations":[{"platforms":["macOS"],"tokens":[{"kind":"keyword","text":"protocol"},{"text":" ","kind":"text"},{"kind":"identifier","text":"Persistent"},{"text":" : ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:6Forked10RepositoryP","text":"Repository","identifier":"doc:\/\/Forked\/documentation\/Forked\/Repository"}],"languages":["swift"]}]}],"topicSections":[{"identifiers":["doc:\/\/Forked\/documentation\/Forked\/Persistent\/load()","doc:\/\/Forked\/documentation\/Forked\/Persistent\/persist()"],"anchor":"Instance-Methods","generated":true,"title":"Instance Methods"}],"identifier":{"url":"doc:\/\/Forked\/documentation\/Forked\/Persistent","interfaceLanguage":"swift"},"relationshipsSections":[{"type":"inheritsFrom","kind":"relationships","identifiers":["doc:\/\/Forked\/documentation\/Forked\/Repository"],"title":"Inherits From"},{"identifiers":["doc:\/\/Forked\/documentation\/Forked\/AtomicRepository"],"kind":"relationships","type":"conformingTypes","title":"Conforming Types"}],"kind":"symbol","metadata":{"modules":[{"name":"Forked"}],"navigatorTitle":[{"text":"Persistent","kind":"identifier"}],"role":"symbol","fragments":[{"kind":"keyword","text":"protocol"},{"text":" ","kind":"text"},{"kind":"identifier","text":"Persistent"}],"roleHeading":"Protocol","title":"Persistent","symbolKind":"protocol","externalID":"s:6Forked10PersistentP"},"references":{"doc://Forked/documentation/Forked":{"title":"Forked","url":"\/documentation\/forked","abstract":[{"text":"A framework for handling shared data with confidence in Swift.","type":"text"}],"kind":"symbol","role":"collection","type":"topic","identifier":"doc:\/\/Forked\/documentation\/Forked"},"doc://Forked/documentation/Forked/Repository":{"abstract":[{"type":"text","text":"This is storage for the "},{"code":"ForkedResource","type":"codeVoice"},{"type":"text","text":". It could"},{"type":"text","text":" "},{"type":"text","text":"be persisted on disk, or just kept in memory."},{"type":"text","text":" "},{"type":"text","text":"This type does not understand any of the mechanisms of forking"},{"type":"text","text":" "},{"type":"text","text":"and merging. That is all handled by the "},{"type":"codeVoice","code":"ForkedResource"},{"text":", which also","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"ensures correct multi-threading behavior."},{"text":" ","type":"text"},{"text":"Classes conforming to this type simply have to setup a storage","type":"text"},{"type":"text","text":" "},{"text":"mechanism, and handle the requests, keeping commits assigned to forks.","type":"text"}],"url":"\/documentation\/forked\/repository","identifier":"doc:\/\/Forked\/documentation\/Forked\/Repository","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Repository","kind":"identifier"}],"type":"topic","role":"symbol","title":"Repository","navigatorTitle":[{"text":"Repository","kind":"identifier"}],"kind":"symbol"},"doc://Forked/documentation/Forked/Persistent":{"identifier":"doc:\/\/Forked\/documentation\/Forked\/Persistent","type":"topic","title":"Persistent","role":"symbol","navigatorTitle":[{"text":"Persistent","kind":"identifier"}],"kind":"symbol","abstract":[],"fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"text":"Persistent","kind":"identifier"}],"url":"\/documentation\/forked\/persistent"},"doc://Forked/documentation/Forked/AtomicRepository":{"abstract":[{"type":"text","text":"An atomic repository is one that gets loaded completely into memory."},{"text":" ","type":"text"},{"type":"text","text":"If the "},{"type":"codeVoice","code":"Resource"},{"type":"text","text":" it contains conforms to "},{"code":"Codable","type":"codeVoice"},{"type":"text","text":", the "},{"type":"codeVoice","code":"AtomicRepository"},{"type":"text","text":" is"},{"text":" ","type":"text"},{"type":"text","text":"also "},{"type":"codeVoice","code":"Codable"},{"text":", and can be converted to a serialized form and saved as a file.","type":"text"},{"type":"text","text":" "},{"text":"Saving and loading are atomic, that is, the whole repository is loaded from file, and the whole","type":"text"},{"type":"text","text":" "},{"type":"text","text":"file is written to disk."}],"conformance":{"availabilityPrefix":[{"type":"text","text":"Available when"}],"constraints":[{"type":"codeVoice","code":"Resource"},{"text":" conforms to ","type":"text"},{"code":"Decodable","type":"codeVoice"},{"type":"text","text":", "},{"type":"codeVoice","code":"Encodable"},{"type":"text","text":", and "},{"code":"Equatable","type":"codeVoice"},{"type":"text","text":"."}],"conformancePrefix":[{"text":"Conforms when","type":"text"}]},"url":"\/documentation\/forked\/atomicrepository","role":"symbol","title":"AtomicRepository","navigatorTitle":[{"kind":"identifier","text":"AtomicRepository"}],"type":"topic","identifier":"doc:\/\/Forked\/documentation\/Forked\/AtomicRepository","fragments":[{"kind":"keyword","text":"class"},{"text":" ","kind":"text"},{"text":"AtomicRepository","kind":"identifier"}],"kind":"symbol"},"doc://Forked/documentation/Forked/Persistent/load()":{"defaultImplementations":1,"role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"load"},{"text":"() ","kind":"text"},{"text":"throws","kind":"keyword"}],"type":"topic","title":"load()","abstract":[{"type":"text","text":"Loads repo from storage if this is a persistable repo."},{"text":" ","type":"text"},{"type":"text","text":"Do not call this unless you are using a type that is persistable, otherwise you"},{"text":" ","type":"text"},{"text":"will get a fatalError.","type":"text"}],"kind":"symbol","required":true,"identifier":"doc:\/\/Forked\/documentation\/Forked\/Persistent\/load()","url":"\/documentation\/forked\/persistent\/load()"},"doc://Forked/documentation/Forked/Persistent/persist()":{"url":"\/documentation\/forked\/persistent\/persist()","title":"persist()","abstract":[{"type":"text","text":"If needed, the repo can store data persistently at this point (or do nothing)"},{"type":"text","text":" "},{"type":"text","text":"Do not call this unless you are using a type that is persistable, otherwise you"},{"text":" ","type":"text"},{"text":"will get a fatalError.","type":"text"}],"defaultImplementations":1,"type":"topic","role":"symbol","required":true,"fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"persist","kind":"identifier"},{"kind":"text","text":"() "},{"kind":"keyword","text":"throws"}],"kind":"symbol","identifier":"doc:\/\/Forked\/documentation\/Forked\/Persistent\/persist()"}}}